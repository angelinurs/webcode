<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style>
	#box{
		width: 400px;
		height: 300px;
		border: 1px solid #00f;
	}
</style>
</head>
<body>
	<form action="">
		<label for="b_year">태어난 년도</label>
		<input type="text" id="b_year" name="bYear"/>
		<button type="button" onclick="test(this.form)">확인</button>
		<!-- 
			this는 button객체를 의미하고, 
			this.form은 button객체를 포함하고 있는 폼객체를 의미한다. 즉,
			test함수를 호출할 때 현재 폼 전체를 인자로 전달한다.
		 -->
	</form>
	<br/>
	
	<div id="box"></div>
	
	<script>
		function test(frm){
			let b_year = frm.bYear.value;
			console.log(b_year);
			
			if(checkNumber(b_year)){
				//숫자만 입력된 경우 - 현재 날짜의 년도만 얻어서
				// 사용자의 생년인 b_year를 빼면 나이가 된다.
				
				let now = new Date();// 현재날짜
				
				//현재날짜에서 년도만 검출하자
				let c_year = now.getFullYear();
				
				//나이 구하기
				let age = c_year - b_year;
				
				if(age < 19)
					document.getElementById("box").innerText = age+"세 미성년";
				else
					document.getElementById("box").innerText = age+"세 성년";
			}
		}
		
		function checkNumber(data){ // 2002
			let value = true;
			
			// 받은 인자인 data에서 한자씩 추출하여 
			// 숫자인지? 아닌지?를 판단하는 반복문
			for(let i=0; i<data.length; i++){
				// data에서 i번째 문자값을 하나 가져온다.
				//let ch = data.charAt(i);
				
				// data에서 i번째의 문자 코드값을 받아내자!
				let code = data.charCodeAt(i);
				
				// 숫자 0의 코드값이 48이다. 그럼 9의 코드값은 57이므로
				// 우린 48~57 범위 안에 있는 코드값이 숫자임을 알고 있다.
				if(code < 48 || code > 57){
					// 숫자가 아닌 경우
					value = false;
					break;// 반복문 탈출
				}
			}				
			
			return value;
		}
	</script>
</body>
</html>